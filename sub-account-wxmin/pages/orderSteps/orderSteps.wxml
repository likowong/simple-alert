<!--pages/orderSteps/orderSteps.wxml 提单步骤页面-->
<view class="main">
    <view class="steps-box">
        <van-steps steps="{{steps}}" active="{{active}}"></van-steps>
    </view>

    <view class="step-input-view" wx:if="{{active == 0}}">
        <view class="tag">车辆年限</view>
        <view class="car-age-box">
            <view class="carAge {{form.carAge == item.value ? 'active' : ''}}" wx:for="{{carAge}}" data-carage="{{item.value}}" bindtap="inputCarAge" wx:key="{{value}}">{{form.carage}}</view>
        </view>
        <view class="tag">投保期限</view>
        <view class="car-age-box">
            <view class="carAge {{form.insurePeriod == item.value ? 'active' : ''}}" wx:for="{{insurePeriod}}" data-period="{{item.value}}" bindtap="inputInsurePeriod" wx:key="{{value}}">{{form.insuranceperiod}}</view>
        </view>
        <view class="tag">车主信息</view>
        <view class="input-box">
            <view class="input-label">姓名：</view>
            <view class="input-value">
                <input type="text" bindinput="inputData" data-name="name"   placeholder-class="font-gray"/>
            </view>
        </view>
        <view class="input-box">
            <view class="input-label">身份证号：</view>
            <view class="input-value">
                <input type="idcard" bindinput="inputData" data-name="idCard"  placeholder-class="font-gray"/>
            </view>
        </view>
        <view class="input-box">
            <view class="input-label">手机号：</view>
            <view class="input-value">
                <input type="text" bindinput="inputData" data-name="telephone"  placeholder-class="font-gray"/>
            </view>
        </view>
        <view class="tag">投保车辆信息</view>
        <view class="input-box">
            <view class="input-label">车辆品牌：</view>
            <view class="input-value select-organize" bindtap="selectCarType">
                <text wx:if="{{!form.carTypeId}}">请选择车辆品牌</text>
                <text wx:else class="selected">{{form.carTypeName}}</text>
            </view>
        </view>
         <view class="input-box">
            <view class="input-label">运营性质：</view>
            <view class="input-value">
                <radio-group class="radio-group" bindchange="inputData" data-name="operationNature">
                    <label wx:for="{{operationNature}}" wx:key="{{item.value}}">
                    <view>
                        <radio value="{{item.value}}"/>
                    </view>
                    <view>{{item.text}}</view>
                    </label>
                </radio-group>
            </view>
        </view>
        <view class="input-box">
            <view class="input-label">车架号：</view>
            <view class="input-value">
                <input type="text" bindinput="inputData" data-name="frameNumber"  placeholder-class="font-gray"/>
            </view>
        </view>
        <view class="input-box">
            <view class="input-label">发动机号：</view>
            <view class="input-value">
                <input type="text" bindinput="inputData" data-name="EngineNumber"  placeholder-class="font-gray"/>
            </view>
        </view>
        <view class="input-box">
            <view class="input-label">车辆购置日期：</view>
            <view class="input-value">
                <picker mode="date" value="{{form.getCarDate}}" class="date-picker" data-name="getCarDate" bindchange="inputData">
                    <view class="picker">{{ form.getCarDate }}</view>
                </picker>
            </view>
        </view>
        <view class="input-box">
            <view class="input-label">车辆购置价格：</view>
            <view class="input-value">
                <input type="text" bindinput="inputData" data-name="getCarPrice"  placeholder-class="font-gray"/>
            </view>
        </view>

        
        <view class="btn-box {{firstStepBtn ? 'active' : ''}}" bindtap='firstStep'>下一步</view>
    </view>
    <view class="step-input-view" wx:else>
        <view class="tag">上传资料</view>
        <view class="file-list">
            <view class="file-title">订车合同（请逐页拍照，如有多页请上传完整）</view>
            <view class="file-btn-box">
                <view class="file-btn" wx:for="{{form.carContractUrl}}" wx:key="{{item.url}}">
                    <image src="{{item.url}}" mode="aspectFill" data-src="{{item.url}}" data-imgs="{{form.carContractUrl}}" bindtap="previewImage"></image>
                    <text class='delete' data-index="{{index}}" data-imgname="carContractUrl" bindtap="deleteImg">×</text>
                </view>
                <view class="file-btn" wx:if="{{form.carContractUrl.length < 6}}" bindtap="uploadContract" data-imgname="carContractUrl">
                    <view class="add-icon"></view>
                </view>
            </view>
        </view>
        <view class="file-list file-list-last">
            <view class="file-title">批复函（请逐页拍照，如有多页请上传完整）</view>
            <view class="file-btn-box">
                <view class="file-btn" wx:for="{{form.successReplyUrl}}" wx:key="{{item.url}}">
                    <image src="{{item.url}}" mode="widthFix" data-src="{{item.url}}" data-imgs="{{form.successReplyUrl}}"bindtap="previewImage"></image>
                    <text class='delete' data-index="{{index}}" data-imgname="successReplyUrl" bindtap="deleteImg">×</text>
                </view>
                <view class="file-btn" wx:if="{{form.successReplyUrl.length < 6}}" bindtap="uploadReply" data-imgname="successReplyUrl">
                    <view class="add-icon"></view>
                </view>
            </view>
        </view>
        <view class="btn-box {{lastStepBtn ? 'active' : ''}}" bindtap='lastStep'>生成客户二维码</view>
    </view>
</view>
